{"version":3,"sources":["index.ts"],"names":[],"mappings":";;AAEA,iCAA8C;AAK9C,MAAsB,aAA8B,SAAQ,iBAAe;IAA3E;;QACU,cAAS,GAAsB,IAAI,GAAG,EAAE,CAAA;IAelD,CAAC;IAbQ,eAAe,CAAC,EAAgB;QACrC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;IACxB,CAAC;IAEM,kBAAkB,CAAC,EAAgB;QACxC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;IAC3B,CAAC;IAEM,oBAAoB;QACzB,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE;YACtC,EAAE,EAAE,CAAA;SACL;IACH,CAAC;CACF;AAhBD,sCAgBC;AAED,MAAsB,iBAAkC,SAAQ,qBAAmB;IAAnF;;QACU,cAAS,GAAsB,IAAI,GAAG,EAAE,CAAA;IAelD,CAAC;IAbQ,eAAe,CAAC,EAAgB;QACrC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;IACxB,CAAC;IAEM,kBAAkB,CAAC,EAAgB;QACxC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;IAC3B,CAAC;IAEM,oBAAoB;QACzB,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE;YACtC,EAAE,EAAE,CAAA;SACL;IACH,CAAC;CACF;AAhBD,8CAgBC","file":"index.js","sourcesContent":["import * as React from 'react'\nimport {LifecycleOwner, LiveCanceler} from '@webnode/livedata'\nimport {Component, PureComponent} from 'react'\n\nexport interface LifecycleComponent<P = {}, S = {}> extends Component<P, S>, LifecycleOwner {\n}\n\nexport abstract class LiveComponent<P = {}, S = {}> extends Component<P, S> implements LifecycleComponent<P, S> {\n  private cancelers: Set<LiveCanceler> = new Set()\n\n  public addLiveCanceler(cb: LiveCanceler) {\n    this.cancelers.add(cb)\n  }\n\n  public deleteLiveCanceler(cb: LiveCanceler) {\n    this.cancelers.delete(cb)\n  }\n\n  public componentWillUnmount() {\n    for (let cb of this.cancelers.values()) {\n      cb()\n    }\n  }\n}\n\nexport abstract class LivePureComponent<P = {}, S = {}> extends PureComponent<P, S> implements LifecycleComponent<P, S> {\n  private cancelers: Set<LiveCanceler> = new Set()\n\n  public addLiveCanceler(cb: LiveCanceler) {\n    this.cancelers.add(cb)\n  }\n\n  public deleteLiveCanceler(cb: LiveCanceler) {\n    this.cancelers.delete(cb)\n  }\n\n  public componentWillUnmount() {\n    for (let cb of this.cancelers.values()) {\n      cb()\n    }\n  }\n}"]}