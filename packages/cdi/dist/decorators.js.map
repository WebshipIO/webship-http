{"version":3,"sources":["decorators.ts"],"names":[],"mappings":";;AAAA,mCAA6B;AAC7B,6CAAgD;AAIhD,SAAS,SAAS,CAAC,KAAY,EAAE,WAAwB;IACvD,OAAO,CAAC,MAAc,EAAE,WAAwB,EAAE,cAAsB,EAAE,EAAE;QAC1E,IAAI,MAAM,CAAC,WAAW,KAAK,QAAQ,EAAE;YACnC,gCAAmB,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAc,EAAE,aAAa,EAAE,cAAc,EAAE,WAAW,EAAE,KAAK,CAAC,CAAA;SACpG;aAAM;YACL,gCAAmB,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,WAAmB,EAAE,WAAW,EAAE,cAAc,EAAE,WAAW,EAAE,KAAK,CAAC,CAAA;SAC9G;IACH,CAAC,CAAA;AACH,CAAC;AAED,SAAgB,gBAAgB,CAAC,WAAwB;IACvD,OAAO,SAAS,CAAC,aAAK,CAAC,WAAW,EAAE,WAAW,CAAC,CAAA;AAClD,CAAC;AAFD,4CAEC;AAED,SAAgB,YAAY,CAAC,WAAwB;IACnD,OAAO,SAAS,CAAC,aAAK,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;AAC9C,CAAC;AAFD,oCAEC;AAED,SAAgB,YAAY,CAAC,WAAwB;IACnD,OAAO,SAAS,CAAC,aAAK,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;AAC9C,CAAC;AAFD,oCAEC","file":"decorators.js","sourcesContent":["import {Scope} from './scope'\nimport {DependencyContainer} from './dependency'\nimport {ProviderKey} from './provider'\nimport {Node} from './node'\n\nfunction BaseScope(scope: Scope, providerKey: ProviderKey): ParameterDecorator {\n  return (target: Object, propertyKey: PropertyKey, parameterIndex: number) => {\n    if (target.constructor === Function) {\n      DependencyContainer.instance.set(target as Node, 'constructor', parameterIndex, providerKey, scope)\n    } else {\n      DependencyContainer.instance.set(target.constructor as Node, propertyKey, parameterIndex, providerKey, scope)\n    }\n  }\n}\n\nexport function ApplicationScope(providerKey: ProviderKey): ParameterDecorator {\n  return BaseScope(Scope.APPLICATION, providerKey)\n}\n\nexport function SessionScope(providerKey: ProviderKey): ParameterDecorator {\n  return BaseScope(Scope.SESSION, providerKey)\n}\n\nexport function RequestScope(providerKey: ProviderKey): ParameterDecorator {\n  return BaseScope(Scope.REQUEST, providerKey)\n}"]}